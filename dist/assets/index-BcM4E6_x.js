import{c as e}from"./common-BmOPv1JN.js";import{n}from"./index-C39VJ542.js";const c={components:{},data(){return{chainNum:50,chainBalance:0,internal:[],timesAct:.5,chainAccount:""}},computed:{iostAccount(){return this.$store.state.currentAccount!=null?this.$store.state.currentAccount.name:""}},async mounted(){this.internal.push(setInterval(this.getChainAccount,3e3))},methods:{async setDeposit(a){this.chainBalance!=0&&(this.timesAct=a,a==="max"?this.chainNum=parseFloat(this.chainBalance.toFixed(4)):a==="min"?this.chainNum=50:this.chainNum=parseFloat(parseFloat(this.chainNum*parseFloat(a)).toFixed(4)))},async getChainAccount(){let a=await this.$store.dispatch("getChainAccount",{symbol:"trx"});a.hasOwnProperty("account")&&(this.chainAccount=a.account,this.chainBalance=a.balance)}},watch:{chainNum(){this.chainNum>this.chainBalance&&(this.chainNum=parseFloat(this.chainBalance).toFixed(4)),this.chainNum<50&&(this.chainNum=50)}},beforeDestroy(){this.internal.length>0&&(this.internal=e(this.internal))}};var o=function(){var t=this,i=t._self._c;return i("div",{staticClass:"webpage"},[i("div",{staticClass:"wrap"},[i("div",{staticClass:"title"},[t._v(" TRX->ITRX ")]),i("div",{staticClass:"bet-input-box flex-box"},[i("div",{staticClass:"input-box flex-box"},[i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.chainNum,expression:"chainNum"}],attrs:{type:"number"},domProps:{value:t.chainNum},on:{input:function(s){s.target.composing||(t.chainNum=s.target.value)}}})])]),i("div",{staticClass:"times-box flex-box"},[i("div",{staticClass:"times-item",class:{active:t.timesAct=="0.5"},on:{click:function(s){return t.setDeposit("0.5")}}},[t._v("1/2")]),i("div",{staticClass:"times-item",class:{active:t.timesAct=="2"},on:{click:function(s){return t.setDeposit("2")}}},[t._v("2x")]),i("div",{staticClass:"times-item",class:{active:t.timesAct=="max"},on:{click:function(s){return t.setDeposit("max")}}},[t._v("Max")])])]),i("div",{staticClass:"balance"},[t._v("我的余额 "+t._s(t.chainBalance))]),i("div",{staticClass:"bet-input-box flex-box"},[i("div",{staticClass:"input-box flex-box"},[i("div",{staticClass:"input"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.iostAccount,expression:"iostAccount"}],attrs:{placeholder:"IOST账号"},domProps:{value:t.iostAccount},on:{input:function(s){s.target.composing||(t.iostAccount=s.target.value)}}})])])]),i("div",{staticClass:"operate-btn",class:{disabled:t.chainAccount==""}},[t._v("兑换")])]),i("div",{staticClass:"wrap"},[t._v(" 卖出 ")])])},l=[],r=n(c,o,l,!1,null,"cebb6668");const m=r.exports;export{m as default};
